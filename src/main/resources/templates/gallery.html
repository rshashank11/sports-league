<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Gallery</title>
    <th:block th:replace="fragments/fonts :: font-links"></th:block>
    <th:block th:replace="fragments/styles :: style-links"></th:block>
    <link rel="stylesheet" th:href="@{/css/header.css}">
    <link rel="stylesheet" th:href="@{/css/gallery.css}">
    <script src="/js/gallery.js" defer></script>
</head>
<body>
<nav th:replace="fragments/header :: header"></nav>

<div class="gallery-container">
    <h1>Game Photos Gallery</h1>
    <div class="gallery">
        <div class="gallery-item">
            <img src="/images/dart.jpg" alt="Dart Game">
            <div class="game-name">Dart</div>
            <div class="upload-links">
                <a href="#" onclick="openUploadModal('dartleague')">Upload Image</a>
            </div>
        </div>
        <div class="gallery-item">
            <img src="/images/tabletennis.jpg" alt="Table Tennis">
            <div class="game-name">Table Tennis</div>
            <div class="upload-links">
                <a href="#" onclick="openUploadModal('table-tennisleague')">Upload Image</a>
            </div>
        </div>
        <div class="gallery-item">
            <img src="/images/pool.jpg" alt="Pool">
            <div class="game-name">Pool</div>
            <div class="upload-links">
                <a href="#" onclick="openUploadModal('poolleague')">Upload Image</a>
            </div>
        </div>
    </div>
</div>

<!-- Modal for Viewing Images -->
<div id="myModal" class="modal">
    <span class="close" onclick="closeModal()">x</span>
    <div class="modal-content">
        <h2 id="modalTitle"></h2>
        <div id="imageGrid" class="image-grid"></div>
    </div>
</div>

<!-- Enlarged Image Modal -->
<div id="enlargedModal" class="enlarged-modal">
    <button id="prevButton" class="enlarged-prev" onclick="navigateImage(-1)">&#8249;</button>
    <img id="enlargedImage" src="" alt="Enlarged Image">
    <div id="enlargedMetadata" class="enlarged-metadata"></div>
    <button id="nextButton" class="enlarged-next" onclick="navigateImage(1)">&#8250;</button>
    <span class="enlarged-close" onclick="closeEnlargedModal()">x</span>
</div>

<!-- Modal for Upload -->
<div id="uploadModal" class="modal">
    <span class="close" onclick="closeUploadModal()">x</span>
    <form id="uploadForm" method="POST" enctype="multipart/form-data">
        <h2>Upload Image</h2>
        <input type="hidden" id="gameSlug" name="gameSlug">
        <label for="imageFile">Select Image:</label>
        <input type="file" id="imageFile" name="imageFile" accept="image/*" required>
        <label for="sportType">Sport Type:</label>
        <input type="text" id="sportType" name="sportType" required>
        <label for="matchDate">Match Date:</label>
        <input type="date" id="matchDate" name="matchDate" required>
        <label for="players">Players:</label>
        <input type="text" id="players" name="players" required>
        <label for="leagueName">League Name:</label>
        <input type="text" id="leagueName" name="leagueName" required>
        <button type="submit">Upload</button>
    </form>
</div>

</body>
</html>
